<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAINS - ê³ ë ¤ëŒ€í•™êµ ìŠ¤í¬ì¸  í†µê³„ë¶„ì„ ë™ì•„ë¦¬</title>
    <style>
        /* ============================ */
        /* [1] í°íŠ¸ ë° ê¸°ë³¸ ì„¤ì •        */
        /* ============================ */
        @font-face {
            font-family: 'KBO_Dia';
            src: url('KBO_medium.woff') format('woff');
            font-weight: normal; font-style: normal;
        }
        @font-face {
            font-family: 'SCDream';
            src: url('SCDream5.otf');
            font-weight: normal; font-style: normal;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'SCDream', sans-serif; line-height: 1.6; color: #333; }
        h1, h3 { font-family: 'KBO_Dia', sans-serif; }

        /* ============================ */
        /* [2] ë ˆì´ì•„ì›ƒ ë° í—¤ë”         */
        /* ============================ */
        header { 
            background-color: #cf8b8b; 
            color: white; 
            padding: 1rem 2rem; 
            display: flex; 
            align-items: center; 
            gap: 20px; 
            position: relative;
            z-index: 1000;
        }
        
        .hamburger-btn {
            display: flex; flex-direction: column; justify-content: space-between;
            width: 24px; height: 18px; cursor: pointer; z-index: 1100;
        }
        .hamburger-btn span {
            display: block; width: 100%; height: 2px;
            background-color: white; border-radius: 3px; transition: all 0.3s ease;
        }

        header h1 { font-size: 1.5rem; font-weight: bold; margin: 0; }
        header h1 a { text-decoration: none; color: white; }
        header nav { display: none; } 

        /* [3] ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
        .sidebar {
            position: fixed; top: 0; left: -300px; width: 260px; height: 100vh;
            background-color: white; box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            transition: left 0.3s ease; z-index: 1050; padding-top: 80px;
            display: flex; flex-direction: column; overflow-y: auto;
        }
        .sidebar.active { left: 0; }
        .sidebar a {
            padding: 15px 30px; text-decoration: none; color: #333;
            font-size: 1.1rem; font-weight: 500; border-bottom: 1px solid #f9f9f9;
            transition: background 0.2s, color 0.2s; display: block;
        }
        .sidebar a:hover { background-color: #fafafa; color: #ab3333; font-weight: bold; }
        
        .sidebar a.menu-toggle { cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .submenu { display: none; background-color: #f8f8f8; border-bottom: 1px solid #eee; }
        .submenu.open { display: block; }
        .submenu a { padding-left: 50px; font-size: 1rem; color: #666; border-bottom: none; }
        .submenu a:hover { color: #ab3333; background-color: #f0f0f0; }

        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); display: none; z-index: 1040;
        }
        .overlay.active { display: block; }

        /* [4] ë©”ì¸ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .hero { background-color: #ab3333; color: white; text-align: center; padding: 4rem 1rem; }
        .hero-image { max-width: 80%; width: 400px; height: auto; margin-bottom: 20px; border-radius: 12px; }
        .hero p { font-size: 1.2rem; opacity: 0.9; }

        section { padding: 3rem 2rem; max-width: 1000px; margin: 0 auto; }
        h3 { font-size: 1.8rem; color: #2c3e50; margin-bottom: 1.5rem; border-bottom: 2px solid #eee; padding-bottom: 10px; }

        /* [ìˆ˜ì •ë¨] ë‹¬ë ¥ ìŠ¤íƒ€ì¼ */
        .calendar-container {
            width: 100%;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
            overflow: hidden;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f9f9f9;
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
        }
        
        .calendar-title {
            font-family: 'KBO_Dia', sans-serif;
            font-size: 1.5rem;
            color: #ab3333;
        }

        .calendar-nav-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            transition: color 0.3s;
            padding: 0 10px;
        }
        .calendar-nav-btn:hover { color: #ab3333; }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr); /* 7ì—´ ê· ë“± ë¶„í•  */
            width: 100%;
            table-layout: fixed; /* ë ˆì´ì•„ì›ƒ ê³ ì • */
        }

        .weekday {
            text-align: center;
            padding: 10px 0;
            font-weight: bold;
            background-color: #fff;
            border-bottom: 1px solid #eee;
            color: #555;
        }
        .weekday.sun { color: #e74c3c; }
        .weekday.sat { color: #3498db; }

        .day-cell {
            min-height: 100px; 
            border-bottom: 1px solid #eee;
            border-right: 1px solid #eee;
            padding: 5px;
            position: relative;
            background-color: #fff;
            overflow: hidden; /* ë‚´ìš©ì´ ë„˜ì¹˜ë©´ ìˆ¨ê¹€ */
        }
        .day-cell:nth-child(7n) { border-right: none; }
        
        .day-number {
            display: block;
            text-align: right;
            font-size: 0.9rem;
            color: #333;
            margin-bottom: 5px;
        }
        
        /* í† /ì¼ ìƒ‰ìƒ ì²˜ë¦¬ */
        .day-cell.sun .day-number { color: #e74c3c; }
        .day-cell.sat .day-number { color: #3498db; }

        /* [ìˆ˜ì •ë¨] ì´ì „/ë‹¤ìŒ ë‹¬ ë‚ ì§œ ìŠ¤íƒ€ì¼ */
        .day-cell.other-month { 
            background-color: #f7f7f7; /* ë°°ê²½ìƒ‰ íšŒìƒ‰ì¡° */
        }
        .day-cell.other-month .day-number {
            color: #bbb; /* ë‚ ì§œ ìˆ«ì íë¦¬ê²Œ */
        }
        /* ì´ì „/ë‹¤ìŒ ë‹¬ì´ë¼ë„ í† /ì¼ ìƒ‰ìƒì€ ì•½ê°„ íë¦¬ê²Œ ìœ ì§€ */
        .day-cell.other-month.sun .day-number { color: #f5a9a9; }
        .day-cell.other-month.sat .day-number { color: #a9d0f5; }

        /* ì˜¤ëŠ˜ ë‚ ì§œ */
        .day-cell.today { background-color: #fff5f5; }
        .day-cell.today .day-number { 
            font-weight: bold; color: #ab3333; 
            text-decoration: underline;
        }

        /* [ìˆ˜ì •ë¨] ì¼ì • ì´ë²¤íŠ¸ ìŠ¤íƒ€ì¼ (ë§ì¤„ì„í‘œ ì ìš©) */
        .event-item {
            display: block;
            background-color: #ab3333;
            color: white;
            font-size: 0.75rem;
            padding: 2px 6px;
            border-radius: 4px;
            margin-bottom: 3px;
            cursor: default;
            
            /* í•µì‹¬: í•œ ì¤„ ë§ì¤„ì„í‘œ ì²˜ë¦¬ */
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis;
            max-width: 100%;
        }
        .event-item.irregular { background-color: #e67e22; }
        .event-item.regular { background-color: #27ae60; }
        .event-item.etc { background-color: #7f8c8d; }

        @media (max-width: 600px) {
            .day-cell { min-height: 80px; font-size: 0.8rem; }
            .event-item { font-size: 0.7rem; padding: 2px; }
            .calendar-title { font-size: 1.2rem; }
        }

        .activities { display: flex; gap: 20px; flex-wrap: wrap; }
        .card { flex: 1; background: #f9f9f9; padding: 25px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); min-width: 280px; }
        .card h4 { color: #ab3333; font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; }
        
        footer { background-color: #333; color: white; text-align: center; padding: 3rem 2rem 2rem; margin-top: 2rem; font-size: 0.8rem; }
        .footer-icons { display: flex; justify-content: center; gap: 20px; margin-bottom: 25px; }
        .icon-btn { display: flex; justify-content: center; align-items: center; width: 50px; height: 50px; background-color: rgba(255,255,255,0.1); border-radius: 12px; transition: all 0.3s ease; }
        .icon-btn:hover { background-color: #ab3333; transform: translateY(-3px); }
        .icon-btn img { width: 24px; height: 24px; object-fit: contain; }

        @media (max-width: 600px) {
            .hero { padding: 3rem 1rem; }
            .activities { flex-direction: column; }
            header { justify-content: flex-start; } 
        }

        /* íŒì—… */
        .popup-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.6); z-index: 9999;
            justify-content: center; align-items: center;
        }
        .popup-content {
            background: white; width: 400px; max-width: 90%;
            border-radius: 12px; overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3); text-align: center;
        }
        .popup-img-box { width: 100%; background-color: #fff; }
        .popup-img-box img { width: 100%; height: auto; display: block; }
        .popup-footer { display: flex; border-top: 1px solid #eee; }
        .popup-btn {
            flex: 1; padding: 15px; border: none; background: white; cursor: pointer;
            font-family: 'SCDream', sans-serif; font-size: 0.95rem; transition: background 0.2s;
        }
        .popup-btn:hover { background-color: #f5f5f5; }
        .btn-today { border-right: 1px solid #eee; color: #666; }
        .btn-close { color: #ab3333; font-weight: bold; }
    </style>
</head>
<body>

    <header>
        <div class="hamburger-btn" onclick="toggleMenu()">
            <span></span><span></span><span></span>
        </div>
        <h1><a href="index.html">Providing Academic INsights for Sports.</a></h1>
    </header>

    <div class="sidebar" id="sidebar"></div>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <div class="hero">
        <img src="PAINS_logo.png" alt="PAINS ë©”ì¸ ë¡œê³ " class="hero-image">
        <p>ê³ ë ¤ëŒ€í•™êµ êµë‚´ ìœ ì¼ ìŠ¤í¬ì¸  í†µê³„ë¶„ì„ ë™ì•„ë¦¬ PAINS</p>
    </div>

    <section>
        <h3>About Us</h3>
        <p>
            2020ë…„ ì„¤ë¦½ë˜ì–´ 2026ë…„ ì „ë°˜ê¸° 11ê¸°ë¡œ í™œë™í•˜ëŠ” PAINSëŠ” ìŠ¤í¬ì¸  í†µê³„ë¥¼ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒë“¤ì´ ëª¨ì´ëŠ” ê³³ì…ë‹ˆë‹¤.
            ì „ê³µì— ìƒê´€ì—†ì´ í†µê³„ ì§€ì‹ê³¼ ìŠ¤í¬ì¸ ì— ëŒ€í•œ ì—´ì •ë§Œ ìˆë‹¤ë©´ ëˆ„êµ¬ë“  í™˜ì˜í•©ë‹ˆë‹¤!
        </p>
    </section>

    <section>
        <h3>íšŒì¥ ì¸ì‚¬ë§</h3>
        <p>
            ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ, ê³ ë ¤ëŒ€í•™êµ ìŠ¤í¬ì¸  í†µê³„ë¶„ì„ ë™ì•„ë¦¬ PAINSì˜ íšŒì¥ ì‹ ë‹¤ì •ì…ë‹ˆë‹¤.<br><br>
            ê°ì‚¬í•©ë‹ˆë‹¤.
        </p>
    </section>

    <section>
        <h3>ì¼ì • ì•ˆë‚´</h3>
        <div class="calendar-container">
            <div class="calendar-header">
                <button class="calendar-nav-btn" onclick="changeMonth(-1)">&#9664;</button>
                <div class="calendar-title" id="calendar-title">2026. 01</div>
                <button class="calendar-nav-btn" onclick="changeMonth(1)">&#9654;</button>
            </div>
            <div class="calendar-grid" id="calendar-grid">
                <div class="weekday sun">ì¼</div>
                <div class="weekday">ì›”</div>
                <div class="weekday">í™”</div>
                <div class="weekday">ìˆ˜</div>
                <div class="weekday">ëª©</div>
                <div class="weekday">ê¸ˆ</div>
                <div class="weekday sat">í† </div>
                </div>
        </div>
    </section>


    <section>
        <h3>Our Activities</h3>
        <div class="activities">
            <div class="card">
                <h4>ğŸ“š ì •ê¸° ìŠ¤í„°ë””</h4>
                <p>ì§€ì›ìë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ê´€ì‹¬ ë¶„ì•¼ë³„ ì‹¬ë„ ìˆëŠ” ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="card">
                <h4>ğŸ¤ í”„ë¡œì íŠ¸</h4>
                <p>ë°°ìš´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•™ê¸° ì¤‘, ë°©í•™ ì¤‘ì— í•œ ë²ˆì”© ì •ê¸° íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì‹¤ì „ ê²½í—˜ì„ ìŒ“ìŠµë‹ˆë‹¤.</p>
            </div>
            <div class="card">
                <h4>ğŸ‰ ì¹œëª© í™œë™</h4>
                <p>ì„ í›„ë°° ë° ë¶€ì› ê°„ êµë¥˜ í™œë™. MT, ì†¡ë…„íšŒ ë“± ë‹¤ì–‘í•œ ì¹œëª© í™œë™ì„ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-icons">
            <a href="https://www.instagram.com/ku_pains" target="_blank" class="icon-btn" title="Instagram">
                <img src="instagram.png" alt="Instagram">
            </a>
            <a href="https://www.notion.so/painsports/PAINS-a9294ba2a44b4ea6a53f0d5ae069749e" target="_blank" class="icon-btn" title="Notion">
                <img src="notion.png" alt="Notion">
            </a>
            <a href="https://blog.naver.com/painsports" target="_blank" class="icon-btn" title="Blog">
                <img src="naver_blog.png" alt="NaverBlog">
            </a>
        </div>
        <p>&copy; 2026 PAINS. All rights reserved.</p>
    </footer>

    <div id="img-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-img-box">
                <img src="2026 HAPPY NEW YEAR.png" alt="2026 ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš”">
            </div>
            <div class="popup-footer">
                <button class="popup-btn btn-today" onclick="closePopupToday()">ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆ ë³´ê¸°</button>
                <button class="popup-btn btn-close" onclick="closePopup()">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        document.write('<script src="menu.js?v=' + new Date().getTime() + '"><\/script>');
    </script>

    <script>
        loadSidebar('home');

        // ============================================
        // íŒì—… ë¡œì§
        // ============================================
        document.addEventListener("DOMContentLoaded", function() {
            const popup = document.getElementById('img-popup');
            const hideDate = localStorage.getItem('pains_popup_hide_date');
            const today = new Date().toDateString();

            if (hideDate !== today) {
                popup.style.display = "flex";
            }
        });

        function closePopup() {
            document.getElementById('img-popup').style.display = "none";
        }
        function closePopupToday() {
            localStorage.setItem('pains_popup_hide_date', new Date().toDateString());
            closePopup();
        }

        // ============================================
        // [ìˆ˜ì •ë¨] ë‹¬ë ¥ ë¡œì§
        // ============================================
        
        let allEvents = []; 
        let currentYear = new Date().getFullYear();
        let currentMonth = new Date().getMonth() + 1; 
        const todayObj = new Date();

        const GOOGLESHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRBnuUvyE2CDV-hG26xCVdnt88JhQgtusdEndJwTzaI62TXPdWTNldVvua9RLkXj1s34qiM0CEcNvbr/pub?gid=305458048&single=true&output=csv";

        async function fetchAndInitCalendar() {
            try {
                const response = await fetch(GOOGLESHEET_URL);
                const data = await response.text();
                
                const rows = data.split("\n").map(row => row.trim()).filter(row => row.length > 0);
                
                allEvents = rows.slice(1).map(row => {
                    const cols = row.split(",");
                    if (cols.length < 5) return null;
                    return {
                        name: cols[0].trim(),
                        date: cols[1].trim(), // YYYY-MM-DD
                        time: cols[2].trim(),
                        location: cols[3].trim(),
                        type: cols[4].trim()
                    };
                }).filter(event => event !== null); 

                renderCalendar(currentYear, currentMonth);

            } catch (error) {
                console.error("ì¼ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:", error);
                document.getElementById('calendar-title').innerText = "ì¼ì • ë¡œë”© ì‹¤íŒ¨";
            }
        }

        function renderCalendar(year, month) {
            const grid = document.getElementById('calendar-grid');
            const title = document.getElementById('calendar-title');
            
            title.innerText = `${year}. ${String(month).padStart(2, '0')}`;

            // ê¸°ì¡´ ì…€ ì§€ìš°ê¸° (í—¤ë” ì œì™¸)
            const weekdays = grid.querySelectorAll('.weekday');
            grid.innerHTML = '';
            weekdays.forEach(wd => grid.appendChild(wd));

            // ë‚ ì§œ ê³„ì‚°ì„ ìœ„í•œ Date ê°ì²´ ìƒì„± (MonthëŠ” 0-11)
            const firstDateOfMonth = new Date(year, month - 1, 1);
            const lastDateOfMonth = new Date(year, month, 0);

            // 1ì¼ì˜ ìš”ì¼ (0:ì¼ ~ 6:í† )
            const startDayIndex = firstDateOfMonth.getDay();
            // ì´ ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œ (ì˜ˆ: 28, 30, 31)
            const lastDate = lastDateOfMonth.getDate();
            // ë§ˆì§€ë§‰ ë‚ ì˜ ìš”ì¼
            const endDayIndex = lastDateOfMonth.getDay();

            // ì´ í•„ìš”í•œ ì¹¸ ìˆ˜ ê³„ì‚° (ì•ìª½ ë¹ˆì¹¸ + ì´ë²ˆë‹¬ ë‚ ì§œ + ë’¤ìª½ ë¹ˆì¹¸)
            // ë³´í†µ ë‹¬ë ¥ì€ 5ì£¼ í˜¹ì€ 6ì£¼. ì—¬ê¸°ì„œëŠ” ë’¤ìª½ ë¹ˆì¹¸ì„ í† ìš”ì¼ê¹Œì§€ ì±„ì›€.
            // ì‹œì‘ì¼ ê¸°ì¤€: ì´ì „ ë‹¬ ë‚ ì§œë¶€í„° ì±„ìš°ê¸° ìœ„í•´ ì‹œì‘ ë‚ ì§œë¥¼ ì¡°ì •
            const startDate = new Date(firstDateOfMonth);
            startDate.setDate(startDate.getDate() - startDayIndex);

            // ì¢…ë£Œì¼ ê¸°ì¤€: ì´ë²ˆ ë‹¬ ë§ˆì§€ë§‰ ë‚ ì´ í† ìš”ì¼(6)ì´ ì•„ë‹ˆë©´, ë‹¤ìŒë‹¬ ë‚ ì§œë¥¼ í† ìš”ì¼ê¹Œì§€ ì¶”ê°€
            // ì´ ì…€ ê°œìˆ˜ = startDayIndex + lastDate + (6 - endDayIndex)
            const totalCells = startDayIndex + lastDate + (6 - endDayIndex);

            for (let i = 0; i < totalCells; i++) {
                // startDateì—ì„œ iì¼ ë§Œí¼ ë”í•œ ë‚ ì§œ ê³„ì‚°
                const renderDate = new Date(startDate);
                renderDate.setDate(startDate.getDate() + i);

                const rYear = renderDate.getFullYear();
                const rMonth = renderDate.getMonth() + 1; // 1-12
                const rDay = renderDate.getDate();
                const rDayOfWeek = renderDate.getDay();

                const cell = document.createElement('div');
                cell.classList.add('day-cell');

                // ì´ë²ˆ ë‹¬ì´ ì•„ë‹Œ ê²½ìš° í´ë˜ìŠ¤ ì¶”ê°€
                if (rMonth !== month) {
                    cell.classList.add('other-month');
                }

                // ìš”ì¼ë³„ ìƒ‰ìƒ (CSS í´ë˜ìŠ¤)
                if (rDayOfWeek === 0) cell.classList.add('sun');
                if (rDayOfWeek === 6) cell.classList.add('sat');

                // ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ
                if (rYear === todayObj.getFullYear() && 
                    (rMonth - 1) === todayObj.getMonth() && 
                    rDay === todayObj.getDate()) {
                    cell.classList.add('today');
                }

                // ë‚ ì§œ ìˆ«ì
                const dayNum = document.createElement('span');
                dayNum.classList.add('day-number');
                dayNum.innerText = rDay;
                cell.appendChild(dayNum);

                // ì´ë²¤íŠ¸ ë§¤í•‘
                const dateStr = `${rYear}-${String(rMonth).padStart(2,'0')}-${String(rDay).padStart(2,'0')}`;
                
                const dayEvents = allEvents.filter(e => e.date === dateStr);
                dayEvents.forEach(evt => {
                    const evtDiv = document.createElement('div');
                    evtDiv.innerText = evt.name;
                    evtDiv.classList.add('event-item');
                    
                    if (evt.type.includes('ë¹„ì •ê¸°')) evtDiv.classList.add('irregular');
                    else if (evt.type.includes('ì •ê¸°')) evtDiv.classList.add('regular');
                    else evtDiv.classList.add('etc');
                    
                    // íˆ´íŒ íš¨ê³¼ (ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ì „ì²´ ì´ë¦„ ë³´ì´ê¸°)
                    evtDiv.title = evt.name; 

                    cell.appendChild(evtDiv);
                });

                grid.appendChild(cell);
            }
        }

        function changeMonth(step) {
            currentMonth += step;
            if (currentMonth < 1) {
                currentMonth = 12;
                currentYear--;
            } else if (currentMonth > 12) {
                currentMonth = 1;
                currentYear++;
            }
            renderCalendar(currentYear, currentMonth);
        }

        fetchAndInitCalendar();
    </script>

</body>
</html>

